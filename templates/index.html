<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media AI Dashboard</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar">
                <div class="position-sticky pt-3">
                    <!-- User Info -->
                    <div class="user-info mb-4">
                        <div class="d-flex align-items-center">
                            <div class="avatar-circle me-3">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h6 class="mb-0">Empresa X</h6>
                                <small class="text-muted">Admin</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#dashboard" data-view="dashboard">
                                <i class="fas fa-home me-2"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#calendario" data-view="calendario">
                                <i class="fas fa-calendar me-2"></i>
                                Calendario
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#crear-contenido" data-view="crear-contenido">
                                <i class="fas fa-sparkles me-2"></i>
                                Crear Contenido
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#validacion" data-view="validacion">
                                <i class="fas fa-check-circle me-2"></i>
                                Validación
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#analiticas" data-view="analiticas">
                                <i class="fas fa-chart-bar me-2"></i>
                                Analíticas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#configuracion" data-view="configuracion">
                                <i class="fas fa-cog me-2"></i>
                                Configuración
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            
            <!-- Main Content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <!-- Dashboard View -->
                <div id="dashboard-view" class="view active">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Dashboard</h1>
                    </div>
                    
                    <div class="row g-4">
                        <!-- Today's Posts Card -->
                        <div class="col-md-6">
                            <div class="card dashboard-card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start mb-3">
                                        <h5 class="card-title">Publicaciones Programadas para Hoy</h5>
                                        <i class="fas fa-calendar-day text-primary"></i>
                                    </div>
                                    <div class="metric-number" id="today-posts-count">0</div>
                                    <div id="today-posts-list" class="mt-3">
                                        <!-- Posts will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pending Approval Card -->
                        <div class="col-md-6">
                            <div class="card dashboard-card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start mb-3">
                                        <h5 class="card-title">Pendientes de Aprobación</h5>
                                        <i class="fas fa-clock text-warning"></i>
                                    </div>
                                    <div class="metric-number" id="pending-posts-count">0</div>
                                    <button class="btn btn-outline-primary mt-3" onclick="showView('validacion')">
                                        Ir a Validación
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Performance Chart -->
                        <div class="col-md-6">
                            <div class="card dashboard-card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start mb-3">
                                        <h5 class="card-title">Rendimiento General (Últimos 7 días)</h5>
                                        <i class="fas fa-chart-line text-success"></i>
                                    </div>
                                    <div style="position: relative; height: 200px;">
                                        <canvas id="performanceChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Quick Creation -->
                        <div class="col-md-6">
                            <div class="card dashboard-card">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between align-items-start mb-3">
                                        <h5 class="card-title">Creación Rápida</h5>
                                        <i class="fas fa-plus-circle text-primary"></i>
                                    </div>
                                    <form id="quick-create-form">
                                        <div class="mb-3">
                                            <label for="quick-topic" class="form-label">Tema del post</label>
                                            <input type="text" class="form-control" id="quick-topic" placeholder="Ej: Nuevo producto, tips, noticias...">
                                        </div>
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-sparkles me-2"></i>
                                            Generar Borrador
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Calendar View -->
                <div id="calendario-view" class="view">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Calendario</h1>
                        <div class="d-flex gap-2">
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#scheduleModal">
                                <i class="fas fa-plus me-2"></i>Programar Post
                            </button>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-outline-primary active" data-calendar-view="month">Mes</button>
                                <button type="button" class="btn btn-outline-primary" data-calendar-view="week">Semana</button>
                                <button type="button" class="btn btn-outline-primary" data-calendar-view="day">Día</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row g-3">
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0" id="calendar-title">Junio 2025</h5>
                                    <div class="btn-group btn-group-sm">
                                        <button type="button" class="btn btn-outline-secondary" id="prev-month">
                                            <i class="fas fa-chevron-left"></i>
                                        </button>
                                        <button type="button" class="btn btn-outline-secondary" id="next-month">
                                            <i class="fas fa-chevron-right"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="calendar-container">
                                        <!-- Calendar will be rendered here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Próximas Publicaciones</h5>
                                </div>
                                <div class="card-body">
                                    <div id="upcoming-posts">
                                        <!-- Upcoming posts will be loaded here -->
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mt-3">
                                <div class="card-header">
                                    <h5 class="mb-0">Estadísticas del Mes</h5>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Publicaciones programadas:</span>
                                        <span class="badge bg-primary" id="scheduled-count">0</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>Publicaciones enviadas:</span>
                                        <span class="badge bg-success" id="sent-count">0</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <span>Pendientes:</span>
                                        <span class="badge bg-warning" id="pending-count">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Create Content View -->
                <div id="crear-contenido-view" class="view">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Crear Contenido</h1>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Formulario de Entrada</h5>
                                </div>
                                <div class="card-body">
                                    <form id="content-creation-form">
                                        <div class="mb-3">
                                            <label for="main-topic" class="form-label">Tema Principal</label>
                                            <textarea class="form-control" id="main-topic" rows="3" placeholder="Describe el tema o idea para tu contenido..."></textarea>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="tone-voice" class="form-label">Tono de Voz</label>
                                            <select class="form-select" id="tone-voice">
                                                <option value="profesional">Profesional</option>
                                                <option value="ingenioso">Ingenioso</option>
                                                <option value="inspirador">Inspirador</option>
                                                <option value="casual">Casual</option>
                                            </select>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label">Plataformas</label>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="linkedin" id="platform-linkedin">
                                                <label class="form-check-label" for="platform-linkedin">
                                                    <i class="fab fa-linkedin text-primary me-2"></i>LinkedIn
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="twitter" id="platform-twitter">
                                                <label class="form-check-label" for="platform-twitter">
                                                    <i class="fab fa-twitter text-info me-2"></i>Twitter
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="instagram" id="platform-instagram">
                                                <label class="form-check-label" for="platform-instagram">
                                                    <i class="fab fa-instagram text-danger me-2"></i>Instagram
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="web" id="platform-web">
                                                <label class="form-check-label" for="platform-web">
                                                    <i class="fas fa-globe text-success me-2"></i>Web
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-sparkles me-2"></i>
                                            Generar Contenido
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Área de Resultados</h5>
                                </div>
                                <div class="card-body">
                                    <div id="generated-content">
                                        <div class="text-center text-muted py-5">
                                            <i class="fas fa-robot fa-3x mb-3"></i>
                                            <p>Completa el formulario y haz clic en "Generar Contenido" para ver los resultados</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Validation View -->
                <div id="validacion-view" class="view">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Validación</h1>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header bg-warning">
                                    <h5 class="mb-0">Pendiente de Aprobación</h5>
                                </div>
                                <div class="card-body">
                                    <div id="pending-approval-list">
                                        <!-- Pending posts will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header bg-danger">
                                    <h5 class="mb-0">Rechazado</h5>
                                </div>
                                <div class="card-body">
                                    <div id="rejected-list">
                                        <div class="text-center text-muted py-4">
                                            <i class="fas fa-times-circle fa-2x mb-2"></i>
                                            <p>No hay posts rechazados</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Analytics View -->
                <div id="analiticas-view" class="view">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Analíticas</h1>
                    </div>
                    
                    <div class="row g-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Crecimiento de Seguidores</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="followersChart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Tasa de Interacción por Plataforma</h5>
                                </div>
                                <div class="card-body">
                                    <canvas id="engagementChart" width="400" height="300"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Publicaciones con Mejor Rendimiento</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-striped analytics-table">
                                            <thead>
                                                <tr>
                                                    <th>Publicación</th>
                                                    <th>Plataforma</th>
                                                    <th>Interacciones</th>
                                                    <th>Alcance</th>
                                                </tr>
                                            </thead>
                                            <tbody id="top-posts-table">
                                                <!-- Top posts will be loaded here -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Configuration View -->
                <div id="configuracion-view" class="view">
                    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Configuración</h1>
                    </div>
                    
                    <div class="row g-4">
                        <!-- Social Media Accounts -->
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0">Cuentas de Redes Sociales</h5>
                                    <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#addAccountModal">
                                        <i class="fas fa-plus me-1"></i>Agregar Cuenta
                                    </button>
                                </div>
                                <div class="card-body">
                                    <div id="social-accounts-list">
                                        <!-- Social accounts will be loaded here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Account Statistics -->
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0">Resumen de Cuentas</h5>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex justify-content-between mb-3">
                                        <span>Cuentas conectadas:</span>
                                        <span class="badge bg-success" id="connected-accounts">0</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-3">
                                        <span>Cuentas pendientes:</span>
                                        <span class="badge bg-warning" id="pending-accounts">0</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <span>Con errores:</span>
                                        <span class="badge bg-danger" id="error-accounts">0</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mt-3">
                                <div class="card-header">
                                    <h5 class="mb-0">Configuración General</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label class="form-label">Zona Horaria por Defecto</label>
                                        <select class="form-select" id="default-timezone">
                                            <option value="UTC">UTC</option>
                                            <option value="America/New_York">EST (Nueva York)</option>
                                            <option value="America/Los_Angeles">PST (Los Ángeles)</option>
                                            <option value="Europe/Madrid">CET (Madrid)</option>
                                            <option value="America/Mexico_City">CST (Ciudad de México)</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="auto-post" checked>
                                            <label class="form-check-label" for="auto-post">
                                                Publicación automática habilitada
                                            </label>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="notifications" checked>
                                            <label class="form-check-label" for="notifications">
                                                Notificaciones por email
                                            </label>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary btn-sm">
                                        <i class="fas fa-save me-1"></i>Guardar Configuración
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Post Detail Modal -->
    <div class="modal fade" id="postDetailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Detalles del Post</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="post-detail-content">
                        <!-- Post details will be loaded here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-warning">Editar</button>
                    <button type="button" class="btn btn-danger">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" title="Cambiar tema">
        <i class="fas fa-moon" id="themeIcon"></i>
    </button>
    
    <!-- Schedule Post Modal -->
    <div class="modal fade" id="scheduleModal" tabindex="-1" aria-labelledby="scheduleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="scheduleModalLabel">Programar Nueva Publicación</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="scheduleForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="postTitle" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="postTitle" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="postPlatform" class="form-label">Plataforma</label>
                                    <select class="form-select" id="postPlatform" required>
                                        <option value="">Seleccionar plataforma</option>
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="twitter">Twitter</option>
                                        <option value="instagram">Instagram</option>
                                        <option value="facebook">Facebook</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="postContent" class="form-label">Contenido</label>
                            <textarea class="form-control" id="postContent" rows="4" required></textarea>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="postDate" class="form-label">Fecha</label>
                                    <input type="date" class="form-control" id="postDate" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="postTime" class="form-label">Hora</label>
                                    <input type="time" class="form-control" id="postTime" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="postTimezone" class="form-label">Zona Horaria</label>
                            <select class="form-select" id="postTimezone">
                                <option value="UTC">UTC</option>
                                <option value="America/New_York">EST (Nueva York)</option>
                                <option value="America/Los_Angeles">PST (Los Ángeles)</option>
                                <option value="Europe/Madrid">CET (Madrid)</option>
                                <option value="America/Mexico_City">CST (Ciudad de México)</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="saveScheduledPost">
                        <i class="fas fa-calendar-plus me-2"></i>Programar Publicación
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Edit Post Modal -->
    <div class="modal fade" id="editPostModal" tabindex="-1" aria-labelledby="editPostModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editPostModalLabel">Editar Publicación</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editPostForm">
                        <input type="hidden" id="editPostId">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editPostTitle" class="form-label">Título</label>
                                    <input type="text" class="form-control" id="editPostTitle" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editPostPlatform" class="form-label">Plataforma</label>
                                    <select class="form-select" id="editPostPlatform" required>
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="twitter">Twitter</option>
                                        <option value="instagram">Instagram</option>
                                        <option value="facebook">Facebook</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="editPostContent" class="form-label">Contenido</label>
                            <textarea class="form-control" id="editPostContent" rows="4" required></textarea>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editPostDate" class="form-label">Fecha</label>
                                    <input type="date" class="form-control" id="editPostDate" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editPostTime" class="form-label">Hora</label>
                                    <input type="time" class="form-control" id="editPostTime" required>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="deleteScheduledPost">
                        <i class="fas fa-trash me-2"></i>Eliminar
                    </button>
                    <button type="button" class="btn btn-primary" id="updateScheduledPost">
                        <i class="fas fa-save me-2"></i>Guardar Cambios
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Social Media Account Modal -->
    <div class="modal fade" id="addAccountModal" tabindex="-1" aria-labelledby="addAccountModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addAccountModalLabel">Agregar Cuenta de Red Social</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addAccountForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="accountPlatform" class="form-label">Plataforma</label>
                                    <select class="form-select" id="accountPlatform" required>
                                        <option value="">Seleccionar plataforma</option>
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="twitter">Twitter</option>
                                        <option value="instagram">Instagram</option>
                                        <option value="facebook">Facebook</option>
                                        <option value="youtube">YouTube</option>
                                        <option value="tiktok">TikTok</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="accountName" class="form-label">Nombre de la Cuenta</label>
                                    <input type="text" class="form-control" id="accountName" placeholder="@usuario o nombre de perfil" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="accountDisplayName" class="form-label">Nombre para Mostrar</label>
                            <input type="text" class="form-control" id="accountDisplayName" placeholder="Nombre descriptivo para identificar la cuenta">
                        </div>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Conexión de API:</strong> Para conectar completamente tu cuenta, necesitarás proporcionar las credenciales de API de la plataforma. 
                            Esto te permitirá publicar automáticamente desde el dashboard.
                        </div>
                        
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="enableAutoPosting">
                                <label class="form-check-label" for="enableAutoPosting">
                                    Habilitar publicación automática para esta cuenta
                                </label>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="isDefaultAccount">
                                <label class="form-check-label" for="isDefaultAccount">
                                    Usar como cuenta predeterminada para esta plataforma
                                </label>
                            </div>
                        </div>
                        
                        <!-- API Credentials Section -->
                        <div class="card bg-light mt-3" id="apiCredentialsSection">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h6 class="mb-0">Credenciales de API</h6>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="enableAPIConfig">
                                    <label class="form-check-label" for="enableAPIConfig">
                                        Configurar API
                                    </label>
                                </div>
                            </div>
                            <div class="card-body" id="apiCredentialsContent" style="display: none;">
                                <div class="alert alert-warning" id="platformApiHelp">
                                    <i class="fas fa-info-circle me-2"></i>
                                    <strong>Instrucciones:</strong> Selecciona una plataforma arriba para ver las instrucciones específicas de configuración de API.
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="apiKey" class="form-label">API Key / Client ID</label>
                                            <div class="input-group">
                                                <input type="password" class="form-control" id="apiKey" placeholder="Tu API Key">
                                                <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('apiKey')">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="apiSecret" class="form-label">API Secret / Client Secret</label>
                                            <div class="input-group">
                                                <input type="password" class="form-control" id="apiSecret" placeholder="Tu API Secret">
                                                <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('apiSecret')">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="accessToken" class="form-label">Access Token (opcional)</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="accessToken" placeholder="Access Token si ya lo tienes">
                                        <button class="btn btn-outline-secondary" type="button" onclick="togglePasswordVisibility('accessToken')">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="form-text">Solo necesario si ya tienes un token válido</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="webhookUrl" class="form-label">Webhook URL (opcional)</label>
                                    <input type="url" class="form-control" id="webhookUrl" placeholder="https://tu-dominio.com/webhook">
                                    <div class="form-text">Para recibir notificaciones de la plataforma</div>
                                </div>
                                
                                <div class="d-flex gap-2">
                                    <button type="button" class="btn btn-outline-primary" onclick="testApiCredentials()">
                                        <i class="fas fa-vial me-1"></i>Probar Credenciales
                                    </button>
                                    <button type="button" class="btn btn-outline-info" onclick="showApiInstructions()">
                                        <i class="fas fa-question-circle me-1"></i>¿Cómo obtener las claves?
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-outline-primary" id="saveAccountBasic">
                        <i class="fas fa-save me-2"></i>Guardar sin API
                    </button>
                    <button type="button" class="btn btn-primary" id="saveAccountWithAPI">
                        <i class="fas fa-link me-2"></i>Conectar con API
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- API Instructions Modal -->
    <div class="modal fade" id="apiInstructionsModal" tabindex="-1" aria-labelledby="apiInstructionsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="apiInstructionsModalLabel">Configuración de API Keys por Plataforma</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist">
                                <button class="nav-link active" id="v-pills-linkedin-tab" data-bs-toggle="pill" data-bs-target="#v-pills-linkedin" type="button">
                                    <i class="fab fa-linkedin me-2"></i>LinkedIn
                                </button>
                                <button class="nav-link" id="v-pills-twitter-tab" data-bs-toggle="pill" data-bs-target="#v-pills-twitter" type="button">
                                    <i class="fab fa-twitter me-2"></i>Twitter
                                </button>
                                <button class="nav-link" id="v-pills-instagram-tab" data-bs-toggle="pill" data-bs-target="#v-pills-instagram" type="button">
                                    <i class="fab fa-instagram me-2"></i>Instagram
                                </button>
                                <button class="nav-link" id="v-pills-facebook-tab" data-bs-toggle="pill" data-bs-target="#v-pills-facebook" type="button">
                                    <i class="fab fa-facebook me-2"></i>Facebook
                                </button>
                                <button class="nav-link" id="v-pills-youtube-tab" data-bs-toggle="pill" data-bs-target="#v-pills-youtube" type="button">
                                    <i class="fab fa-youtube me-2"></i>YouTube
                                </button>
                                <button class="nav-link" id="v-pills-tiktok-tab" data-bs-toggle="pill" data-bs-target="#v-pills-tiktok" type="button">
                                    <i class="fab fa-tiktok me-2"></i>TikTok
                                </button>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content" id="v-pills-tabContent">
                                <!-- LinkedIn Instructions -->
                                <div class="tab-pane fade show active" id="v-pills-linkedin">
                                    <h6>LinkedIn API Configuration</h6>
                                    <div class="alert alert-info">
                                        <strong>Nota:</strong> LinkedIn requiere autorización para aplicaciones corporativas
                                    </div>
                                    <ol class="mb-3">
                                        <li>Ve a <a href="https://www.linkedin.com/developers/" target="_blank">LinkedIn Developers</a></li>
                                        <li>Crea una nueva aplicación</li>
                                        <li>Copia el <strong>Client ID</strong> y <strong>Client Secret</strong></li>
                                        <li>Configura las URLs de redirección</li>
                                        <li>Solicita acceso a la Marketing Developer Platform</li>
                                    </ol>
                                    <div class="bg-light p-3 rounded">
                                        <strong>Permisos necesarios:</strong>
                                        <ul class="mb-0">
                                            <li>w_member_social</li>
                                            <li>r_liteprofile</li>
                                            <li>w_organization_social</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Twitter Instructions -->
                                <div class="tab-pane fade" id="v-pills-twitter">
                                    <h6>Twitter API Configuration</h6>
                                    <div class="alert alert-warning">
                                        <strong>Importante:</strong> Twitter API v2 requiere suscripción pagada
                                    </div>
                                    <ol class="mb-3">
                                        <li>Ve a <a href="https://developer.twitter.com/" target="_blank">Twitter Developer Portal</a></li>
                                        <li>Crea un proyecto y una aplicación</li>
                                        <li>Genera las claves API y tokens</li>
                                        <li>Configura OAuth 2.0</li>
                                    </ol>
                                    <div class="bg-light p-3 rounded">
                                        <strong>Claves necesarias:</strong>
                                        <ul class="mb-0">
                                            <li>API Key (Consumer Key)</li>
                                            <li>API Secret (Consumer Secret)</li>
                                            <li>Bearer Token</li>
                                            <li>Access Token y Access Token Secret</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Instagram Instructions -->
                                <div class="tab-pane fade" id="v-pills-instagram">
                                    <h6>Instagram API Configuration</h6>
                                    <div class="alert alert-info">
                                        <strong>Nota:</strong> Usa Instagram Basic Display API o Instagram Graph API
                                    </div>
                                    <ol class="mb-3">
                                        <li>Ve a <a href="https://developers.facebook.com/" target="_blank">Facebook Developers</a></li>
                                        <li>Crea una aplicación</li>
                                        <li>Agrega el producto Instagram Basic Display</li>
                                        <li>Configura OAuth redirect URIs</li>
                                        <li>Obtén el App ID y App Secret</li>
                                    </ol>
                                    <div class="bg-light p-3 rounded">
                                        <strong>Permisos necesarios:</strong>
                                        <ul class="mb-0">
                                            <li>instagram_basic</li>
                                            <li>pages_show_list</li>
                                            <li>pages_read_engagement</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Facebook Instructions -->
                                <div class="tab-pane fade" id="v-pills-facebook">
                                    <h6>Facebook API Configuration</h6>
                                    <ol class="mb-3">
                                        <li>Ve a <a href="https://developers.facebook.com/" target="_blank">Facebook Developers</a></li>
                                        <li>Crea una nueva aplicación</li>
                                        <li>Agrega el producto Facebook Login</li>
                                        <li>Configura las URLs válidas de OAuth</li>
                                        <li>Obtén el App ID y App Secret</li>
                                    </ol>
                                    <div class="bg-light p-3 rounded">
                                        <strong>Permisos necesarios:</strong>
                                        <ul class="mb-0">
                                            <li>pages_manage_posts</li>
                                            <li>pages_read_engagement</li>
                                            <li>publish_to_groups</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- YouTube Instructions -->
                                <div class="tab-pane fade" id="v-pills-youtube">
                                    <h6>YouTube API Configuration</h6>
                                    <ol class="mb-3">
                                        <li>Ve a <a href="https://console.developers.google.com/" target="_blank">Google Cloud Console</a></li>
                                        <li>Crea un nuevo proyecto</li>
                                        <li>Habilita YouTube Data API v3</li>
                                        <li>Crea credenciales OAuth 2.0</li>
                                        <li>Descarga el archivo de credenciales</li>
                                    </ol>
                                    <div class="bg-light p-3 rounded">
                                        <strong>Scopes necesarios:</strong>
                                        <ul class="mb-0">
                                            <li>youtube.upload</li>
                                            <li>youtube.readonly</li>
                                            <li>youtube.force-ssl</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- TikTok Instructions -->
                                <div class="tab-pane fade" id="v-pills-tiktok">
                                    <h6>TikTok API Configuration</h6>
                                    <div class="alert alert-warning">
                                        <strong>Beta:</strong> TikTok API está en desarrollo limitado
                                    </div>
                                    <ol class="mb-3">
                                        <li>Ve a <a href="https://developers.tiktok.com/" target="_blank">TikTok Developers</a></li>
                                        <li>Solicita acceso a la API</li>
                                        <li>Crea una aplicación</li>
                                        <li>Configura los endpoints de callback</li>
                                    </ol>
                                    <div class="bg-light p-3 rounded">
                                        <strong>Nota:</strong> El acceso a TikTok API es limitado y requiere aprobación especial.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" onclick="openDeveloperConsole()">
                        <i class="fas fa-external-link-alt me-1"></i>Abrir Console de Desarrollador
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>
